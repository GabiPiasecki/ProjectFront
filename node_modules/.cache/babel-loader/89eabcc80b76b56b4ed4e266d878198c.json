{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Java Course\\\\React\\\\final\\\\src\\\\Components\\\\MainArea\\\\CustomerPages\\\\CustomerMaxPrice\\\\CustomerMaxPrice.tsx\",\n    _s = $RefreshSig$();\n\nimport \"./CustomerMaxPrice.css\";\nimport { useEffect, useState } from \"react\";\nimport jwtAxios from \"../../../../Authorization/jwtAxios\";\nimport CouponForCustomer from \"../../../../ModelTemplates/CouponForCustomer/CouponForCustomer\";\nimport { customerUpdateAction } from \"../../../../Redux/CustomerState\";\nimport store from \"../../../../Redux/Store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CustomerMaxPrice() {\n  _s();\n\n  const [coupons, setCoupons] = useState([]);\n\n  const fetchCoupons = async () => {\n    try {\n      const {\n        data: coupons\n      } = await jwtAxios.get(`/customer/all`);\n      const customerEmail = store.getState().authState.user.email;\n      const loggedCustomerArray = store.getState().customerState.customers.filter(function (item) {\n        return item.email === customerEmail;\n      });\n      const loggedCustomer = loggedCustomerArray[0];\n      loggedCustomer.coupons = coupons;\n      store.dispatch(customerUpdateAction(loggedCustomer));\n      setCoupons(coupons);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const [maxVal, setMaxVal] = useState(0);\n\n  const setValue = args => {\n    const value = args.target.value;\n    setMaxVal(parseInt(value));\n  };\n\n  const priceCoupons = coupons.filter(function (item) {\n    return item.price <= maxVal;\n  });\n  useEffect(() => {\n    fetchCoupons();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"CustomerMaxPrice\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Choose Max Price:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"range\",\n      min: \"0\",\n      max: \"2000\",\n      onChange: setValue,\n      className: \"slider\",\n      style: {\n        width: \"20%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"slider__right-value\",\n      children: maxVal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 62\n    }, this), priceCoupons.map(item => /*#__PURE__*/_jsxDEV(CouponForCustomer, {\n      coupon: item\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 39\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CustomerMaxPrice, \"LWHT4ycfrTxvE6gymSGPqhjh3HE=\");\n\n_c = CustomerMaxPrice;\nexport default CustomerMaxPrice;\n\nvar _c;\n\n$RefreshReg$(_c, \"CustomerMaxPrice\");","map":{"version":3,"sources":["C:/Users/user/Desktop/Java Course/React/final/src/Components/MainArea/CustomerPages/CustomerMaxPrice/CustomerMaxPrice.tsx"],"names":["useEffect","useState","jwtAxios","CouponForCustomer","customerUpdateAction","store","CustomerMaxPrice","coupons","setCoupons","fetchCoupons","data","get","customerEmail","getState","authState","user","email","loggedCustomerArray","customerState","customers","filter","item","loggedCustomer","dispatch","e","console","log","maxVal","setMaxVal","setValue","args","value","target","parseInt","priceCoupons","price","width","map","id"],"mappings":";;;AAAA,OAAO,wBAAP;AACA,SAAyBA,SAAzB,EAAoCC,QAApC,QAAoD,OAApD;AACA,OAAOC,QAAP,MAAqB,oCAArB;AAEA,OAAOC,iBAAP,MAA8B,gEAA9B;AACA,SAASC,oBAAT,QAAqC,iCAArC;AACA,OAAOC,KAAP,MAAkB,yBAAlB;;;AAEA,SAASC,gBAAT,GAAyC;AAAA;;AACrC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAW,EAAX,CAAtC;;AACA,QAAMQ,YAAY,GAAG,YAAY;AAC7B,QAAI;AACA,YAAM;AAAEC,QAAAA,IAAI,EAAGH;AAAT,UAA2C,MAAML,QAAQ,CAACS,GAAT,CAAc,eAAd,CAAvD;AACA,YAAMC,aAAa,GAAGP,KAAK,CAACQ,QAAN,GAAiBC,SAAjB,CAA2BC,IAA3B,CAAgCC,KAAtD;AACA,YAAMC,mBAAmB,GAAGZ,KAAK,CAACQ,QAAN,GAAiBK,aAAjB,CAA+BC,SAA/B,CAAyCC,MAAzC,CAAgD,UAASC,IAAT,EAAc;AAAC,eAAOA,IAAI,CAACL,KAAL,KAAeJ,aAAtB;AAAoC,OAAnG,CAA5B;AACA,YAAMU,cAAc,GAAGL,mBAAmB,CAAC,CAAD,CAA1C;AACAK,MAAAA,cAAc,CAACf,OAAf,GAAyBA,OAAzB;AACAF,MAAAA,KAAK,CAACkB,QAAN,CAAenB,oBAAoB,CAACkB,cAAD,CAAnC;AACAd,MAAAA,UAAU,CAACD,OAAD,CAAV;AACH,KARD,CAQE,OAAMiB,CAAN,EAAS;AACPC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;AACJ,GAZD;;AAaA,QAAM,CAACG,MAAD,EAASC,SAAT,IAAsB3B,QAAQ,CAAC,CAAD,CAApC;;AACA,QAAM4B,QAAQ,GAAIC,IAAD,IAA0B;AACvC,UAAMC,KAAK,GAAID,IAAI,CAACE,MAAN,CAAkCD,KAAhD;AACAH,IAAAA,SAAS,CAACK,QAAQ,CAACF,KAAD,CAAT,CAAT;AACH,GAHD;;AAIA,QAAMG,YAAY,GAAG3B,OAAO,CAACa,MAAR,CAAe,UAASC,IAAT,EAAe;AAAC,WAAOA,IAAI,CAACc,KAAL,IAAcR,MAArB;AAA4B,GAA3D,CAArB;AAEA3B,EAAAA,SAAS,CAAC,MAAM;AACZS,IAAAA,YAAY;AACf,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACI;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEL;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,GAAG,EAAC,GAAxB;AAA4B,MAAA,GAAG,EAAC,MAAhC;AAAuC,MAAA,QAAQ,EAAEoB,QAAjD;AAA2D,MAAA,SAAS,EAAC,QAArE;AAA8E,MAAA,KAAK,EAAE;AAACO,QAAAA,KAAK,EAAE;AAAR;AAArF;AAAA;AAAA;AAAA;AAAA,YAFK,eAGI;AAAI,MAAA,SAAS,EAAC,qBAAd;AAAA,gBAAqCT;AAArC;AAAA;AAAA;AAAA;AAAA,YAHJ,eAGqD;AAAA;AAAA;AAAA;AAAA,YAHrD,EAKKO,YAAY,CAACG,GAAb,CAAiBhB,IAAI,iBAAI,QAAC,iBAAD;AAAiC,MAAA,MAAM,EAAEA;AAAzC,OAAwBA,IAAI,CAACiB,EAA7B;AAAA;AAAA;AAAA;AAAA,YAAzB,CALL;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAUH;;GApCQhC,gB;;KAAAA,gB;AAsCT,eAAeA,gBAAf","sourcesContent":["import \"./CustomerMaxPrice.css\";\nimport { SyntheticEvent, useEffect, useState } from \"react\";\nimport jwtAxios from \"../../../../Authorization/jwtAxios\";\nimport Coupon from \"../../../../Models/Coupon\";\nimport CouponForCustomer from \"../../../../ModelTemplates/CouponForCustomer/CouponForCustomer\";\nimport { customerUpdateAction } from \"../../../../Redux/CustomerState\";\nimport store from \"../../../../Redux/Store\";\n\nfunction CustomerMaxPrice(): JSX.Element {\n    const [coupons, setCoupons] = useState<Coupon[]>([]);\n    const fetchCoupons = async () => {\n        try {\n            const { data : coupons } : { data : Coupon[] } = await jwtAxios.get(`/customer/all`);\n            const customerEmail = store.getState().authState.user.email;\n            const loggedCustomerArray = store.getState().customerState.customers.filter(function(item){return item.email === customerEmail});\n            const loggedCustomer = loggedCustomerArray[0];\n            loggedCustomer.coupons = coupons;\n            store.dispatch(customerUpdateAction(loggedCustomer));\n            setCoupons(coupons);\n        } catch(e) {\n            console.log(e)\n        }\n    }\n    const [maxVal, setMaxVal] = useState(0);\n    const setValue = (args: SyntheticEvent) => {\n        const value = (args.target as HTMLInputElement).value;\n        setMaxVal(parseInt(value));\n    }\n    const priceCoupons = coupons.filter(function(item) {return item.price <= maxVal});\n    \n    useEffect(() => {\n        fetchCoupons();\n    }, []);\n\n    return (\n        <div className=\"CustomerMaxPrice\">\n            <h2>Choose Max Price:</h2>\n\t\t\t<input type=\"range\" min=\"0\" max=\"2000\" onChange={setValue} className=\"slider\" style={{width: \"20%\"}}/>\n            <h2 className=\"slider__right-value\">{maxVal}</h2><br/>\n\n            {priceCoupons.map(item => <CouponForCustomer key={item.id} coupon={item}/>)}\n        </div>\n        \n    );\n}\n\nexport default CustomerMaxPrice;\n"]},"metadata":{},"sourceType":"module"}